<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <title>Salle aux portes</title>
</head>
<body>

  <!-- Zone VIP (active par défaut) -->
  <div class="click-zone" onclick="openDoor()"></div>
  
  <!-- Zone vidéo (inactive et invisible par défaut) -->
  <div class="clickzonevideo" id="videoZone" onclick="openVideo()" style="display:none;"></div>
  
  <div class="clickzoneguide" id="guideZone" onclick="openGuide()" style="display:block;"></div>

  <script>
  function openDoor() {
      window.location.href = "VIP.html";
  }
  
  function openVideo() {
      window.location.href = "Video.html";
  }

    
  function openGuide() {
      window.location.href = "Guide.html";
  }
  
  // Flags pour savoir d’où on revient
  const fromArcade = sessionStorage.getItem("fromArcade") === "true";
  const fromVideo = sessionStorage.getItem("fromVideo") === "true";

  if (fromVideo) {
      // On vient de Video.html → aucune zone cliquable
      const vipZone = document.querySelector(".click-zone");
      const videoZone = document.getElementById("videoZone");
      if(vipZone) vipZone.style.display = "none";
      if(videoZone) videoZone.style.display = "none";

      sessionStorage.removeItem("fromVideo");
  } else if (fromArcade) {
      // On vient d'Arcade.html → désactive VIP, active vidéo
      const vipZone = document.querySelector(".click-zone");
      if(vipZone){
          vipZone.style.pointerEvents = "none";
          vipZone.style.opacity = "0.5"; // visuel pour indiquer que c'est désactivé
      }

      const videoZone = document.getElementById("videoZone");
      if(videoZone){
          videoZone.style.display = "block"; // rend cliquable
      }

      sessionStorage.removeItem("fromArcade");
  }
  </script>

</body>
</html>
