<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <title>Salle aux portes</title>
</head>
<body>

  <!-- Zone VIP (active par d√©faut) -->
  <div class="click-zone" onclick="openDoor()"></div>
  
  <!-- Zone vid√©o (inactive et invisible par d√©faut) -->
  <div class="clickzonevideo" id="videoZone" onclick="openVideo()" style="display:none;"></div>
  
  <div class="clickzoneguide" id="guideZone" onclick="openGuide()" style="display:block;"></div>
  <div class="clickzonelogo" id="logoZone" onclick="openLogo()" style="display:block;"></div>

  <script>
    function openDoor() {
        window.location.href = "VIP.html";
    }
    
    function openVideo() {
        window.location.href = "Video.html";
    }
    
    function openGuide() {
        window.location.href = "Guide.html";
    }

    function openLogo() {
        window.location.href = "Logo.html";
    }
    

    const vipZone = document.querySelector(".click-zone");
    const videoZone = document.getElementById("videoZone");
    const guideZone = document.getElementById("guideZone");
    
    // Flags
    const fromArcade = sessionStorage.getItem("fromArcade") === "true";
    const fromVideo  = sessionStorage.getItem("fromVideo") === "true";
    const fromGuide  = sessionStorage.getItem("fromGuide") === "true";
    
    // ---------------------------------
    // ‚≠ê √âTAT PAR D√âFAUT (premi√®re visite)
    // ---------------------------------
    vipZone.style.display   = "block";
    videoZone.style.display = "none";
    guideZone.style.display = "none";
    // ---------------------------------
    // üîÅ Cas 1 : Retour depuis Video.html
    // ‚Üí D√©bloque seulement la zone Guide
    // ---------------------------------
    if (fromVideo) {
    
        vipZone.style.display = "none";
        videoZone.style.display = "none";
    
        guideZone.style.display = "block";
        guideZone.style.pointerEvents = "auto";
        guideZone.style.opacity = "1";
    
        sessionStorage.removeItem("fromVideo");
    }
    
    // ---------------------------------
    // üîÅ Cas 2 : Retour depuis Arcade.html
    // ‚Üí D√©bloque seulement la zone Vid√©o
    // ---------------------------------
    else if (fromArcade) {
    
        vipZone.style.pointerEvents = "none";
        vipZone.style.opacity = "0.5";
    
        videoZone.style.display = "block";
        videoZone.style.pointerEvents = "auto";
        videoZone.style.opacity = "1";
    
        guideZone.style.display = "none";
    
        sessionStorage.removeItem("fromArcade");
    }
    
    // ---------------------------------
    // üîÅ Cas 3 : Retour depuis Guide.html
    // ‚Üí ‚ùå TOUT est d√©sactiv√© et non-cliquable
    // ---------------------------------
    else if (fromGuide) {
    
        vipZone.style.display = "none";
        videoZone.style.display = "none";
        guideZone.style.display = "none";
    
        // S√©curit√© suppl√©mentaire : on neutralise tout
        vipZone.style.pointerEvents = "none";
        videoZone.style.pointerEvents = "none";
        guideZone.style.pointerEvents = "none";
    
        sessionStorage.removeItem("fromGuide");
    }
    </script>
         
</body>
</html>
