<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <title>Salle aux portes</title>
</head>
<body>

  <!-- Zone VIP (active par défaut) -->
  <div class="click-zone" onclick="openDoor()"></div>
  
  <!-- Zone vidéo (inactive et invisible par défaut) -->
  <div class="clickzonevideo" id="videoZone" onclick="openVideo()" style="display:none;"></div>
  <div class="clickzoneguide" id="guideZone" onclick="openGuide()" style="display:block;"></div>
  <div class="clickzonelogo" id="logoZone" onclick="openLogo()" style="display:block;"></div>
  <div class="clickzoneaffiche" id="afficheZone" onclick="openAffiche()" style="display:block;"></div>
  <div class="clickzoneloups" id="loupsZone" onclick="openLoups()" style="display:block;"></div>
  <div class="clickzonefinal" id="finalZone" onclick="openFinal()" style="display:block;"></div>




    <script>

        // -----------------------------------------------------------
// Fonctions pour ouvrir les pages
// -----------------------------------------------------------
function openDoor() { window.location.href = "vip.html"; }
function openVideo() { window.location.href = "video.html"; }
function openGuide() { window.location.href = "guide.html"; }
function openLogo() { window.location.href = "logo.html"; }
function openAffiche() { window.location.href = "affiche.html"; }
function openLoups() { window.location.href = "fermedesloups.html"; }
function openFinal() { window.location.href = "final.html"; }


// -----------------------------------------------------------
// Sélection des zones
// -----------------------------------------------------------
const vipZone     = document.querySelector(".click-zone");
const videoZone   = document.getElementById("videoZone");
const guideZone   = document.getElementById("guideZone");
const logoZone    = document.getElementById("logoZone");
const afficheZone = document.getElementById("afficheZone");
const loupsZone   = document.getElementById("loupsZone");

// -----------------------------------------------------------
// Flags depuis sessionStorage
// -----------------------------------------------------------
const fromArcade   = sessionStorage.getItem("fromArcade") === "true";
const fromVideo    = sessionStorage.getItem("fromVideo") === "true";
const fromGuide    = sessionStorage.getItem("fromGuide") === "true";
const fromLogo     = sessionStorage.getItem("fromLogo") === "true";
const fromAffiche  = sessionStorage.getItem("fromAffiche") === "true";
const fromLoup     = sessionStorage.getItem("fromFerme") === "true";


// -----------------------------------------------------------
// État par défaut (au chargement de la salle)
// -----------------------------------------------------------
vipZone.style.display     = "block";
vipZone.style.pointerEvents = "auto";
vipZone.style.opacity     = "1";

videoZone.style.display   = "none";
guideZone.style.display   = "none";
logoZone.style.display    = "none";
afficheZone.style.display = "none";
loupsZone.style.display   = "none";

// -----------------------------------------------------------
// Gestion des retours depuis d’autres pages
// -----------------------------------------------------------
if (fromVideo) {
    // Après Video → débloque Guide
    vipZone.style.display = "none";
    guideZone.style.display = "block";
    guideZone.style.pointerEvents = "auto";
    guideZone.style.opacity = "1";

    sessionStorage.removeItem("fromVideo");
}
else if (fromArcade) {
    // Après Arcade → débloque Vidéo
    vipZone.style.pointerEvents = "none";
    vipZone.style.opacity = "0.5";

    videoZone.style.display = "block";
    videoZone.style.pointerEvents = "auto";
    videoZone.style.opacity = "1";

    sessionStorage.removeItem("fromArcade");
}
else if (fromGuide) {
    // Après Guide → débloque Logo
    vipZone.style.display = "none";
    videoZone.style.display = "none";
    guideZone.style.display = "none";

    logoZone.style.display = "block";
    logoZone.style.pointerEvents = "auto";
    logoZone.style.opacity = "1";

    sessionStorage.removeItem("fromGuide");
}
else if (fromLogo) {
    // Après Logo → débloque Affiche
    vipZone.style.display = "none";
    videoZone.style.display = "none";
    guideZone.style.display = "none";
    logoZone.style.display = "none";

    afficheZone.style.display = "block";
    afficheZone.style.pointerEvents = "auto";
    afficheZone.style.opacity = "1";

    sessionStorage.removeItem("fromLogo");
}
else if (fromAffiche) {
    // Après Affiche → débloque Loups
    vipZone.style.display = "none";
    videoZone.style.display = "none";
    guideZone.style.display = "none";
    logoZone.style.display = "none";
    afficheZone.style.display = "none";

    loupsZone.style.display = "block";
    loupsZone.style.pointerEvents = "auto";
    loupsZone.style.opacity = "1";

    sessionStorage.removeItem("fromAffiche");
}


    </script>


</body>
</html>

