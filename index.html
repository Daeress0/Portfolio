<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <title>Salle aux portes</title>
</head>
<body>

  <!-- Zone VIP (active par défaut) -->
  <div class="click-zone" onclick="openDoor()"></div>
  
  <!-- Zone vidéo (inactive et invisible par défaut) -->
  <div class="clickzonevideo" id="videoZone" onclick="openVideo()" style="display:none;"></div>
  
  <div class="clickzoneguide" id="guideZone" onclick="openGuide()" style="display:block;"></div>
  <div class="clickzonelogo" id="logoZone" onclick="openLogo()" style="display:block;"></div>
  <div class="clickzoneaffiche" id="afficheZone" onclick="openAffiche()" style="display:block;"></div>


  <script>
function openDoor() { window.location.href = "vip.html"; }
function openVideo() { window.location.href = "video.html"; }
function openGuide() { window.location.href = "guide.html"; }
function openLogo() { window.location.href = "logo.html"; }
function openAffiche() { window.location.href = "affiche.html"; }

 const vipZone   = document.querySelector(".click-zone");
const videoZone = document.getElementById("videoZone");
const guideZone = document.getElementById("guideZone");
const logoZone  = document.getElementById("logoZone");
const afficheZone = document.getElementById("afficheZone");

// Flags
const fromArcade = sessionStorage.getItem("fromArcade") === "true";
const fromVideo  = sessionStorage.getItem("fromVideo") === "true";
const fromGuide  = sessionStorage.getItem("fromGuide") === "true";
const fromLogo   = sessionStorage.getItem("fromLogo") === "true";

// -----------------------
// État par défaut
// -----------------------
vipZone.style.display   = "block";
vipZone.style.pointerEvents = "auto";
vipZone.style.opacity = "1";

videoZone.style.display = "none";
guideZone.style.display = "none";
logoZone.style.display  = "none";
afficheZone.style.display = "none";

// ---------------------------------------------------
// Cas 1 : Retour depuis Video.html → débloque Guide
// ---------------------------------------------------
if (fromVideo) {

    vipZone.style.display = "none";
    videoZone.style.display = "none";

    guideZone.style.display = "block";
    guideZone.style.pointerEvents = "auto";
    guideZone.style.opacity = "1";

    sessionStorage.removeItem("fromVideo");
}

// -------------------------------------------------------
// Cas 2 : Retour depuis Arcade.html → débloque Vidéo
// -------------------------------------------------------
else if (fromArcade) {

    vipZone.style.pointerEvents = "none";
    vipZone.style.opacity = "0.5";

    videoZone.style.display = "block";
    videoZone.style.pointerEvents = "auto";
    videoZone.style.opacity = "1";

    guideZone.style.display = "none";

    sessionStorage.removeItem("fromArcade");
}

// -----------------------------------------------------------
// Cas 3 : Retour depuis Guide.html → débloque uniquement LOGO
// -----------------------------------------------------------
else if (fromGuide) {

    vipZone.style.display = "none";
    videoZone.style.display = "none";
    guideZone.style.display = "none";

    logoZone.style.display = "block";
    logoZone.style.pointerEvents = "auto";
    logoZone.style.opacity = "1";

    sessionStorage.removeItem("fromGuide");
}

// -----------------------------------------------------------
// Cas 4 : Retour depuis Logo.html → débloque AFFiCHE uniquement
// -----------------------------------------------------------
else if (fromLogo) {

    // tout caché
    vipZone.style.display = "none";
    videoZone.style.display = "none";
    guideZone.style.display = "none";
    logoZone.style.display = "none";

    // seule Affiche devient dispo
    afficheZone.style.display = "block";
    afficheZone.style.pointerEvents = "auto";
    afficheZone.style.opacity = "1";

    sessionStorage.removeItem("fromLogo");
}

    </script>


</body>
</html>

